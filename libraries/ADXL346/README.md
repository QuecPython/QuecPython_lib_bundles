# adxl346

默认初始化2G量程。

**类引用：**

```python
from adxl346 import Adxl346
```

 

**实例化参数：**

| 名称     | 必填 | 类型    | 说明                                |
| -------- | ---- | ------- | ----------------------------------- |
| i2c      | 是   | i2c对象 | 如I2C(I2C.I2C1,  I2C.STANDARD_MODE) |
| dev_addr | 否   | int     | 默认0x53                            |

```python
i2c_dev = I2C(I2C.I2C1, I2C.STANDARD_MODE)
adxl = Adxl346(i2c_dev)
```

**接口函数：**

l **set_range(range=0)**

设置量程。

参数：

| 名称  | 必填 | 类型 | 说明                                                         |
| ----- | ---- | ---- | ------------------------------------------------------------ |
| range | 否   | int  | range_2g：0；<br />range_4g ：1；<br />range_8g ：2；<br />range_16g：3 |

返回值：

​    无。

l **int_enable(int_code,tap_thr,dur,tap_axis,laten,window,ff_thr,ff_time,act_thr,act_axis,inact_thr,inact_axis,inact_time)**

​	中断使能。

参数：

| 名称       | 必填 | 类型 | 说明                                                         |
| ---------- | ---- | ---- | ------------------------------------------------------------ |
| int_code   | 是   | int  | 中断类型<br />单击中断：0x40<br />双击中断：0x20<br />运动中断：0x10<br />静止中断：0x08<br />自由落体中断：0x04 |
| tap_thr    | 否   | int  | 单双击中断选配<br />敲击中断阈值，默认0x30，建议不要小于该值 |
| dur        | 否   | int  | 单双击中断选配<br />敲击期间，默认0x20，建议大于0x10         |
| tap_axis   | 否   | int  | 单双击中断选配<br />敲击轴，默认0x07，既xyz，<br />只x轴：0x04<br />只y轴：0x02<br />只z轴：0x01 |
| laten      | 否   | int  | 双击中断选配<br />延迟，双击需在单击检测后该段时间外触发,默认0x15 |
| window     | 否   | int  | 双击中断选配<br />窗口，双击需在该时间内完成，默认0xff       |
| ff_thr     | 否   | int  | 自由落体中断选配<br />加速度阈值，触发需大于该加速度，默认0x06，建议3-9 |
| ff_time    | 否   | int  | 自由落体中断选配<br />加速度时间，触发需大于该时间，默认0x15，建议0x14-0x46 |
| act_thr    | 否   | int  | 运动中断选配<br />加速度阈值，触发需大于该加速度，默认0x03   |
| act_axis   | 否   | int  | 运动中断选配，运动轴，默认0xf0<br />只x轴：0xc0<br />只y轴：0xa0<br />只z轴：0x90 |
| inact_thr  | 否   | int  | 静止中断选配<br />加速度阈值，触发需大于该加速度，默认0x03   |
| inact_axis | 否   | int  | 静止中断选配，运动轴，默认0x0f<br />只x轴：0x0c<br />只y轴：0x0a<br />只z轴：0x09 |
| inact_time | 否   | int  | 静止中断选配<br />静止保持时间，触发需静止大于该时间，默认0x03 |

返回值：

​        0 ：成功 

​	  -1 ： 失败

l **clear_int(int_code)**

​	清除某中断使能。

参数：

| 名称     | 必填 | 类型 | 说明                                                         |
| -------- | ---- | ---- | ------------------------------------------------------------ |
| int_code | 是   | int  | 中断类型<br />单击中断：0x40<br />双击中断：0x20<br />运动中断：0x10<br />静止中断：0x08<br />自由落体中断：0x04 |

返回值：

​	无

l **read_acceleration()**

​	读取三轴加速度。

参数：

​    无。

返回值：

| 名称    | 类型  | 说明                  |
| ------- | ----- | --------------------- |
| (x,y,z) | tuple | x, y, z轴加速度,单位G |

 

l **process_single_tap ()**

​	循环读取中断源寄存器，单击中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保单击中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到单击中断

l **process_double_tap()**

​	循环读取中断源寄存器，双击中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保双击中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到双击中断

l **process_act ()**

​	循环读取中断源寄存器，运动中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保运动中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到运动中断

l **process_inact()**

​	循环读取中断源寄存器，静止中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保静止中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到静止中断

l **process_ff ()**

​	循环读取中断源寄存器，自由落体中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保自由落体中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到自由落体中断
