
#ILI9806E屏幕参数
init_ili9806_480X854 = (
0xFF,10,5,0xFF,0x98,0x06,0x04,0x01,
0x08,10,1,0x10,
0x21,10,1,0x01,
0x30,10,1,0x01,
0x31,10,1,0x00,
0x40,10,1,0x16,
0x41,10,1,0x33,
0x42,10,1,0x03,
0x43,10,1,0x09,
0x44,10,1,0x06,
0x50,10,1,0x88,
0x51,10,1,0x88,
0x52,10,1,0x00,
0x53,10,1,0x3d,
0x55,10,1,0x49,
0x60,10,1,0x07,
0x61,10,1,0x00,
0x62,10,1,0x07,
0x63,10,1,0x00,
0xA0,10,1,0x00,
0xA1,10,1,0x09,
0xA2,10,1,0x11,
0xA3,10,1,0x0B,
0xA4,10,1,0x05,
0xA5,10,1,0x08,
0xA6,10,1,0x06,
0xA7,10,1,0x04,
0xA8,10,1,0x09,
0xA9,10,1,0x0C,
0xAA,10,1,0x15,
0xAB,10,1,0x08,
0xAC,10,1,0x0F,
0xAD,10,1,0x12,
0xAE,10,1,0x09,
0xAF,10,1,0x00,
0xC0,10,1,0x00,
0xC1,10,1,0x09,
0xC2,10,1,0x10,
0xC3,10,1,0x0C,
0xC4,10,1,0x05,
0xC5,10,1,0x08,
0xC6,10,1,0x06,
0xC7,10,1,0x04,
0xC8,10,1,0x08,
0xC9,10,1,0x0C,
0xCA,10,1,0x14,
0xCB,10,1,0x08,
0xCC,10,1,0x0F,
0xCD,10,1,0x11,
0xCE,10,1,0x09,
0xCF,10,1,0x00,
0xFF,10,5,0xFF,0x98,0x06,0x04,0x06,
0x00,10,1,0x20,
0x01,10,1,0x0A,
0x02,10,1,0x00,
0x03,10,1,0x00,
0x04,10,1,0x01,
0x05,10,1,0x01,
0x06,10,1,0x98,
0x07,10,1,0x06,
0x08,10,1,0x01,
0x09,10,1,0x80,
0x0A,10,1,0x00,
0x0B,10,1,0x00,
0x0C,10,1,0x01,
0x0D,10,1,0x01,
0x0E,10,1,0x05,
0x0F,10,1,0x00,
0x10,10,1,0xF0,
0x11,10,1,0xF4,
0x12,10,1,0x01,
0x13,10,1,0x00,
0x14,10,1,0x00,
0x15,10,1,0xC0,
0x16,10,1,0x08,
0x17,10,1,0x00,
0x18,10,1,0x00,
0x19,10,1,0x00,
0x1A,10,1,0x00,
0x1B,10,1,0x00,
0x1C,10,1,0x00,
0x1D,10,1,0x00,
0x20,10,1,0x01,
0x21,10,1,0x23,
0x22,10,1,0x45,
0x23,10,1,0x67,
0x24,10,1,0x01,
0x25,10,1,0x23,
0x26,10,1,0x45,
0x27,10,1,0x67,
0x30,10,1,0x11,
0x31,10,1,0x11,
0x32,10,1,0x00,
0x33,10,1,0xEE,
0x34,10,1,0xFF,
0x35,10,1,0xBB,
0x36,10,1,0xAA,
0x37,10,1,0xDD,
0x38,10,1,0xCC,
0x39,10,1,0x66,
0x3A,10,1,0x77,
0x3B,10,1,0x22,
0x3C,10,1,0x22,
0x3D,10,1,0x22,
0x3E,10,1,0x22,
0x3F,10,1,0x22,
0x40,10,1,0x22,
0xFF,10,5,0xFF,0x98,0x06,0x04,0x07,
0x17,10,1,0x22,
0x02,10,1,0x77,
0x26,10,1,0xB2,
0xFF,10,5,0xFF,0x98,0x06,0x04,0x00,
0x36,10,1,0x00,
0x11,10,1,0x00,
0x29,10,1,0x00,
)
#4.3 寸屏幕参数
init_480X800_43 = (
    0x11,0,0,
    0xFF,120,5,0x77,0x01,0x00,0x00,0x10,
    0xC0,0,2,0x63,0x00,
    0xC1,0,2,0x0A,0x0C,
    0xC2,0,2,0x01,0x08,
    0xCC,0,1,0x18,
    0xB0,0,16,0x00,0x08,0x10,0x0E,0x11,0x07,0x08,0x08,0x08,0x25,0x04,0x12,0x0F,0x2C,0x30,0x1F,
    0xB1,0,16,0x00,0x11,0x18,0x0C,0x10,0x05,0x07,0x09,0x08,0x24,0x04,0x11,0x10,0x2B,0x30,0x1F,
    0xFF,0,5,0x77,0x01,0x00,0x00,0x11,
    0xB0,0,1,0x4D,
    0xB1,0,1,0x3D,
    0xB2,0,1,0x87,
    0xB3,0,1,0x80,
    0xB5,0,1,0x47,
    0xB7,0,1,0x8A,
    0xB8,0,1,0x20,
    0xB9,0,2,0x10,0x13,
    0xC1,0,1,0x78,
    0xC2,0,1,0x78,
    0xD0,0,1,0x88,
    0xE0,100,3,0x00,0x00,0x02,
    0xE1,0,11,0x04,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x00,0x20,0x20,
    0xE2,0,13,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xE3,0,4,0x00,0x00,0x33,0x00,
    0xE4,0,2,0x22,0x00,
    0xE5,0,16,0x04,0x34,0xAA,0xAA,0x06,0x34,0xAA,0xAA,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xE6,0,4,0x00,0x00,0x33,0x00,
    0xE7,0,2,0x22,0x00,
    0xE8,0,16,0x05,0x34,0xAA,0xAA,0x07,0x34,0xAA,0xAA,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xEB,0,7,0x02,0x00,0x40,0x40,0x00,0x00,0x00,
    0xEC,0,2,0x00,0x00,
    0xED,0,16,0xFA,0x45,0x0B,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xB0,0x54,0xAF,
    0xEF,0,6,0x08,0x08,0x08,0x45,0x3F,0x54,
    0x3A,0,1,0x77,
    0x36,0,1,0x00,
    0x35,0,1,0x00,
    0x29,0,0
)
from machine import LCD
from machine import Pin

gpio1 = Pin(Pin.GPIO27, Pin.OUT, Pin.PULL_PU, 1)
gpio2 = Pin(Pin.GPIO8, Pin.OUT, Pin.PULL_PU, 1)
gpio3 = Pin(Pin.GPIO11, Pin.OUT, Pin.PULL_PU, 1)

print("lcd init")
mipilcd = LCD()
mipilcd.mipi_init(initbuf=bytearray(init_480X800_43), width=480,hight=800, DataLane=2)
mipilcd.lcd_clear(0xf67f)

# import lvgl as lv
# lv.init()
# disp_buf1 = lv.disp_draw_buf_t()
# buf1_1 = bytes(480*854*2)
# disp_buf1.init(buf1_1, None, len(buf1_1))
# disp_drv = lv.disp_drv_t()
# disp_drv.init()
# disp_drv.draw_buf = disp_buf1
# disp_drv.flush_cb = mipilcd.lcd_write
# disp_drv.hor_res = 480              #此处基于实际的屏幕来设置水平分辨率
# disp_drv.ver_res = 854              #此处基于实际的屏幕来设置垂直分辨率
# # disp_drv.sw_rotate=1                #因为横屏，所以需要旋转
# # disp_drv.rotated = lv.DISP_ROT._270 #旋转角度
# disp_drv.register()
# lv.tick_inc(5)
# lv.task_handler()
#
#
# style_font = lv.style_t()
# style_font.init()
# style_font.set_radius(0)
# style_font.set_bg_color(lv.color_make(0x21,0x95,0xf6))
# style_font.set_bg_grad_color(lv.color_make(0x21,0x95,0xf6))
# style_font.set_bg_grad_dir(lv.GRAD_DIR.VER)
# style_font.set_bg_opa(0)
# style_font.set_text_color(lv.color_make(0x00,0x00,0x00))
# style_font.set_text_font(lv.font_siyuan_Regular_16)
# style_font.set_text_letter_space(0)
# style_font.set_pad_left(0)
# style_font.set_pad_right(0)
# style_font.set_pad_top(0)
# style_font.set_pad_bottom(0)
# test_lable = lv.label(lv.scr_act())
# test_lable.add_style(style_font, lv.PART.MAIN|lv.STATE.DEFAULT)
# test_lable.set_text("5寸屏幕测试")
# test_lable.center()
