# bma250

默认初始化2G量程。

**类引用：**

```python
from peripheral.gsensor.bma250 import Bma250
```

 

**实例化参数：**

| 名称        | 必填 | 类型    | 说明                                |
| ----------- | ---- | ------- | ----------------------------------- |
| i2c         | 是   | i2c对象 | 如I2C(I2C.I2C1,  I2C.STANDARD_MODE) |
| dev_address | 否   | int     | 默认0x19                            |

```python
i2c_dev = I2C(I2C.I2C1,I2C.STANDARD_MODE)
bma250 = Bma250(i2c_dev)
```

**接口函数：**

l **set_range(range=0)**

设置量程。

参数：

| 名称  | 必填 | 类型 | 说明                                                        |
| ----- | ---- | ---- | ----------------------------------------------------------- |
| range | 否   | int  | 2g：0x03；<br />4g ：0x05；<br />8g ：0x08；<br />16g：0x0c |

返回值：

​    无。

l **set_hz(hz=0x08)**

设置传感器频率带宽，默认7.81hz。

参数：

| 名称 | 必填 | 类型 | 说明                                                         |
| ---- | ---- | ---- | ------------------------------------------------------------ |
| hz   | 否   | int  | 7.81hz：0x08；<br />15.63hz ：0x09；<br />31.25hz ：0x0a；<br />62.5hz：0x0b<br />125Hz：0x0c<br />250Hz：0x0d<br />500Hz：0x0e<br />1000Hz：0x0f |

返回值：

​    无。

l **int_enable(int_code,tap_thr,tap_dur,slop_thr,slop_dur,flat_hold_time)**

​	中断使能。

参数：

| 名称           | 必填 | 类型 | 说明                                                         |
| -------------- | ---- | ---- | ------------------------------------------------------------ |
| int_code       | 是   | int  | 中断类型<br />单击中断：0x20<br />双击中断：0x10<br />倾斜中断：0x01-0x07（x,y,z轴及其组合）<br />朝向中断：0x80<br />水平中断：0x04 |
| tap_thr        | 否   | int  | 单双击中断选配<br />敲击中断阈值，默认0x03                   |
| tap_dur        | 否   | int  | 双击中断选配<br />默认0x04                                   |
| slop_thr       | 否   | int  | 倾斜选配<br />阈值，默认0x14                                 |
| slop_dur       | 否   | int  | 倾斜选配<br />默认0x03                                       |
| flat_hold_time | 否   | int  | 水平中断选配<br />保持时间，默认0x10                         |

返回值：

​        0 ：成功 

​	  -1 ： 失败

l **reset()**

​	重置。

参数：

​	无

返回值：

​	无

l **read_acceleration()**

​	读取三轴加速度。

参数：

​    无。

返回值：

| 名称    | 类型  | 说明                  |
| ------- | ----- | --------------------- |
| (x,y,z) | tuple | x, y, z轴加速度,单位G |

 

l **process_single_tap ()**

​	循环读取中断源寄存器，单击中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保单击中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到单击中断

l **process_double_tap()**

​	循环读取中断源寄存器，双击中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保双击中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到双击中断

l **process_slope ()**

​	循环读取中断源寄存器，倾斜中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保倾斜中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到倾斜中断

l **process_orient()**

​	循环读取中断源寄存器，朝向中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保朝向中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到朝向中断

l **process_flat ()**

​	循环读取中断源寄存器，水平中断检测。

​	注：未检测到中断则死循环，谨慎在主线程执行，执行前请确保水平中断使能并配置正确。

参数：

​    无。

返回值：

​	1：检测到水平中断
